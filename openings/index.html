<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ruy Lopez: A Comprehensive Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            width: 320px;
            height: 320px;
            border: 2px solid #8b5cf6;
        }
        
        .chess-square {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            position: relative;
        }
        
        .chess-square.light {
            background-color: #f0d9b5;
        }
        
        .chess-square.dark {
            background-color: #b58863;
        }
        
        .chess-square.highlight {
            background-color: #ffe066 !important;
            box-shadow: inset 0 0 0 3px #f59e0b;
        }
        
        .chess-piece {
            font-size: 28px;
            line-height: 1;
        }
        
        .move-notation {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #1f2937;
            background-color: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .section-toggle {
            transition: all 0.3s ease;
        }
        
        .section-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .section-content.active {
            max-height: 2000px;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-12">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-6xl font-bold text-center mb-4">The Ruy Lopez</h1>
            <p class="text-xl md:text-2xl text-center opacity-90">A Comprehensive Guide</p>
            <p class="text-lg text-center mt-4 opacity-80">Waddle Through the Openings - The Master of Ducks' Guide</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto px-4">
            <ul class="flex flex-wrap justify-center space-x-6 py-4">
                <li><a href="#introduction" class="text-blue-600 hover:text-blue-800 font-medium">Introduction</a></li>
                <li><a href="#non-e5-responses" class="text-blue-600 hover:text-blue-800 font-medium">Non-e5 Responses</a></li>
                <li><a href="#non-nc6-responses" class="text-blue-600 hover:text-blue-800 font-medium">Non-Nc6 Responses</a></li>
                <li><a href="#ruy-lopez-variations" class="text-blue-600 hover:text-blue-800 font-medium">Ruy Lopez Variations</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 max-w-6xl">
        
        <!-- Author's Note -->
        <section class="bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-8 rounded-r-lg">
            <h2 class="text-2xl font-bold mb-4 text-yellow-800">A Note from the Author</h2>
            <p class="text-gray-700 mb-4">While I'm certainly not a chess grandmaster (yet!), this guide is born from my personal journey to understand and master these openings. I truly believe that the visual and structured approach I've used here can offer valuable insights and help other players on their own path to improvement.</p>
            
            <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg mt-4">
                <h3 class="font-bold text-blue-800 mb-2">Important Note for Learners</h3>
                <p class="text-gray-700">This guide is designed to be a foundational roadmap and visual introduction to the Ruy Lopez and its common deviations. It highlights the key structures and initial ideas you should focus on learning and recognizing. However, true mastery of these openings, and significant improvement in your chess game, will require deeper study beyond this document.</p>
            </div>
        </section>

        <!-- Introduction Section -->
        <section id="introduction" class="mb-12">
            <h2 class="text-3xl font-bold mb-6 text-center">Introduction: The Ruy Lopez - My Target Opening</h2>
            <p class="text-lg mb-6 text-center text-gray-700">My main goal is to understand and play the Ruy Lopez as White. This section shows the core moves that lead to this important opening.</p>
            
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-2xl font-bold mb-4">The Ruy Lopez Core Moves</h3>
                
                <div class="flex flex-col lg:flex-row items-start gap-8">
                    <div class="flex-1">
                        <div id="ruy-lopez-board" class="chess-board mx-auto mb-4"></div>
                        <div class="flex justify-center gap-4 mb-4">
                            <button id="ruy-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                            <button id="ruy-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                        </div>
                        <div id="ruy-move-display" class="text-center font-bold text-xl"></div>
                    </div>
                    
                    <div class="flex-1">
                        <div id="ruy-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-gray-700">Use the navigation buttons to see the core Ruy Lopez sequence unfold.</p>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 bg-purple-50 border border-purple-200 p-4 rounded-lg">
                    <h4 class="font-bold text-purple-800 mb-2">General Idea of the Ruy Lopez:</h4>
                    <p class="text-gray-700">The Ruy Lopez is a classical, positional opening. White aims for long-term advantages by controlling the center, developing pieces harmoniously, and creating subtle weaknesses in Black's position. Key themes include the eventual d4 pawn break, maneuvering knights, and exploiting the pressure on Black's c6 knight.</p>
                </div>
            </div>
        </section>

        <!-- Section 1: Non-e5 Responses -->
        <section id="non-e5-responses" class="mb-12">
            <h2 class="text-3xl font-bold mb-6">Section 1: Black's Responses to 1. e4 (When 1...e5 is NOT Played)</h2>
            <p class="text-lg mb-6 text-gray-700">If Black doesn't play 1...e5 after your 1. e4, the game will not be a Ruy Lopez. Here are common responses and how White typically reacts to maintain a good position.</p>
            
            <!-- Scandinavian Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">1.1. The Scandinavian Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="scandinavian-content">
                        Show Details
                    </button>
                </div>
                
                <div id="scandinavian-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="scandinavian-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="scandinavian-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="scandinavian-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="scandinavian-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="scandinavian-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Scandinavian Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- French Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">1.2. The French Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="french-content">
                        Show Details
                    </button>
                </div>
                
                <div id="french-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="french-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="french-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="french-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="french-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="french-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the French Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Caro-Kann Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">1.3. The Caro-Kann Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="caro-kann-content">
                        Show Details
                    </button>
                </div>
                
                <div id="caro-kann-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="caro-kann-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="caro-kann-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="caro-kann-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="caro-kann-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="caro-kann-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Caro-Kann Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sicilian Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">1.4. The Sicilian Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="sicilian-content">
                        Show Details
                    </button>
                </div>
                
                <div id="sicilian-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="sicilian-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="sicilian-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="sicilian-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="sicilian-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="sicilian-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Sicilian Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Non-Nc6 Responses -->
        <section id="non-nc6-responses" class="mb-12">
            <h2 class="text-3xl font-bold mb-6">Section 2: Black's Responses to 1. e4 e5 2. Nf3 (When 2...Nc6 is NOT Played)</h2>
            <p class="text-lg mb-6 text-gray-700">You've played the first two moves that could lead to a Ruy Lopez, but Black deviates from 2...Nc6. In these cases, you cannot play 3. Bb5, and you need to know how to adjust your plan.</p>
            
            <!-- Philidor Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">2.1. The Philidor Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="philidor-content">
                        Show Details
                    </button>
                </div>
                
                <div id="philidor-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="philidor-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="philidor-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="philidor-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="philidor-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="philidor-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Philidor Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Petrov Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">2.2. The Petrov Defense (Russian Game)</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="petrov-content">
                        Show Details
                    </button>
                </div>
                
                <div id="petrov-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="petrov-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="petrov-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="petrov-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="petrov-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="petrov-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Petrov Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Ruy Lopez Variations -->
        <section id="ruy-lopez-variations" class="mb-12">
            <h2 class="text-3xl font-bold mb-6">Section 3: Main Variations Within the Ruy Lopez (After 3. Bb5!)</h2>
            <p class="text-lg mb-6 text-gray-700">These are the most common and important lines you'll encounter once the Ruy Lopez has been established (1. e4 e5 2. Nf3 Nc6 3. Bb5). Understanding these variations will allow you to navigate the middle game with confidence.</p>
            
            <!-- Create variation sections for each Ruy Lopez variation -->
            <!-- Morphy Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.1. The Morphy Defense (Closed Ruy Lopez)</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="morphy-content">
                        Show Details
                    </button>
                </div>
                
                <div id="morphy-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="morphy-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="morphy-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="morphy-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="morphy-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="morphy-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Morphy Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Berlin Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.2. The Berlin Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="berlin-content">
                        Show Details
                    </button>
                </div>
                
                <div id="berlin-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="berlin-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="berlin-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="berlin-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="berlin-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="berlin-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Berlin Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exchange Variation -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.3. The Exchange Variation</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="exchange-content">
                        Show Details
                    </button>
                </div>
                
                <div id="exchange-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="exchange-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="exchange-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="exchange-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="exchange-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="exchange-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Exchange Variation sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Marshall Attack -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.4. The Marshall Attack (or Marshall Gambit)</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="marshall-content">
                        Show Details
                    </button>
                </div>
                
                <div id="marshall-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="marshall-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="marshall-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="marshall-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="marshall-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="marshall-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Marshall Attack sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Open Ruy Lopez -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.5. The Open Ruy Lopez</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="open-content">
                        Show Details
                    </button>
                </div>
                
                <div id="open-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="open-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="open-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="open-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="open-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="open-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Open Ruy Lopez sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Steinitz Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.6. The Steinitz Defense (Modern Steinitz)</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="steinitz-content">
                        Show Details
                    </button>
                </div>
                
                <div id="steinitz-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="steinitz-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="steinitz-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="steinitz-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="steinitz-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="steinitz-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Steinitz Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Classical Variation -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.7. The Classical Variation (or Cordel Defense)</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="classical-content">
                        Show Details
                    </button>
                </div>
                
                <div id="classical-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="classical-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="classical-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="classical-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="classical-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="classical-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Classical Variation sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schliemann Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.8. The Schliemann Defense (Jaenisch Gambit)</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="schliemann-content">
                        Show Details
                    </button>
                </div>
                
                <div id="schliemann-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="schliemann-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="schliemann-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="schliemann-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="schliemann-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="schliemann-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Schliemann Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cozio Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.9. The Cozio Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="cozio-content">
                        Show Details
                    </button>
                </div>
                
                <div id="cozio-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="cozio-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="cozio-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="cozio-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="cozio-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="cozio-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Cozio Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Arkhangelsk Defense -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">3.10. The Arkhangelsk Defense</h3>
                    <button class="section-toggle bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" data-target="arkhangelsk-content">
                        Show Details
                    </button>
                </div>
                
                <div id="arkhangelsk-content" class="section-content">
                    <div class="flex flex-col lg:flex-row items-start gap-8">
                        <div class="flex-1">
                            <div id="arkhangelsk-board" class="chess-board mx-auto mb-4"></div>
                            <div class="flex justify-center gap-4 mb-4">
                                <button id="arkhangelsk-prev" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">← Previous</button>
                                <button id="arkhangelsk-next" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:bg-gray-300">Next →</button>
                            </div>
                            <div id="arkhangelsk-move-display" class="text-center font-bold text-xl"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div id="arkhangelsk-move-explanation" class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-700">Navigate through the Arkhangelsk Defense sequence.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

        <!-- Support Section -->
        <section class="bg-gradient-to-r from-purple-600 to-blue-600 text-white py-12 mt-16">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl font-bold mb-6">Support The Master of Ducks</h2>
                <div class="max-w-3xl mx-auto">
                    <p class="text-lg mb-6 opacity-90">
                        If you found this guide helpful and would like to support <strong>Micu Vlad-Bogdan (The Master of Ducks)</strong>, 
                        you can follow his journey and chess content on Twitch!
                    </p>
                    
                    <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-6 mb-6">
                        <div class="flex items-center justify-center mb-4">
                            <svg class="w-8 h-8 mr-3" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/>
                            </svg>
                            <span class="text-2xl font-bold">Twitch: ereghedon</span>
                        </div>
                        <a href="https://www.twitch.tv/ereghedon" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           class="inline-block bg-purple-500 hover:bg-purple-400 text-white font-bold py-3 px-8 rounded-full transition-colors duration-300 transform hover:scale-105">
                            Follow on Twitch
                        </a>
                    </div>
<!--  
                    <p class="text-sm opacity-80">
                        Join the community and watch live chess gameplay, opening analysis, and more educational content!
                    </p>
-->     
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-lg mb-2">The Ruy Lopez: A Comprehensive Guide</p>
            <p class="text-gray-400 mb-2">Waddle Through the Openings - Master your chess foundation</p>
            <p class="text-sm text-gray-500">Created by Micu Vlad-Bogdan (The Master of Ducks)</p>
        </div>
    </footer>

    <script>
        // Chess piece Unicode symbols
        const pieces = {
            'K': '♔', 'Q': '♕', 'R': '♖', 'B': '♗', 'N': '♘', 'P': '♙',
            'k': '♚', 'q': '♛', 'r': '♜', 'b': '♝', 'n': '♞', 'p': '♟'
        };

        // Starting position FEN
        const startingFEN = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';

        // Chess board class
        class ChessBoard {
            constructor(boardId, prevBtnId, nextBtnId, moveDisplayId, explanationId) {
                this.boardElement = document.getElementById(boardId);
                this.prevBtn = document.getElementById(prevBtnId);
                this.nextBtn = document.getElementById(nextBtnId);
                this.moveDisplay = document.getElementById(moveDisplayId);
                this.explanationElement = document.getElementById(explanationId);
                this.currentPosition = 0;
                this.positions = [];
                this.moves = [];
                this.explanations = [];
                
                this.initializeBoard();
                this.setupEventListeners();
            }

            initializeBoard() {
                this.boardElement.innerHTML = '';
                for (let rank = 8; rank >= 1; rank--) {
                    for (let file = 1; file <= 8; file++) {
                        const square = document.createElement('div');
                        square.className = `chess-square ${(rank + file) % 2 === 0 ? 'dark' : 'light'}`;
                        square.dataset.square = String.fromCharCode(96 + file) + rank;
                        this.boardElement.appendChild(square);
                    }
                }
            }

            setupEventListeners() {
                this.prevBtn.addEventListener('click', () => this.previousMove());
                this.nextBtn.addEventListener('click', () => this.nextMove());
            }

            setMoveSequence(positions, moves, explanations) {
                this.positions = positions;
                this.moves = moves;
                this.explanations = explanations;
                this.currentPosition = 0;
                this.updateDisplay();
            }

            updateDisplay() {
                this.displayPosition(this.positions[this.currentPosition]);
                this.updateButtons();
                this.updateMoveDisplay();
                this.updateExplanation();
            }

            displayPosition(fen) {
                const squares = this.boardElement.querySelectorAll('.chess-square');
                squares.forEach(square => {
                    square.innerHTML = '';
                    square.classList.remove('highlight');
                });

                const position = fen.split(' ')[0];
                let squareIndex = 0;

                for (let rank = 8; rank >= 1; rank--) {
                    for (let file = 1; file <= 8; file++) {
                        const square = squares[squareIndex];
                        squareIndex++;
                    }
                }

                // Parse FEN and place pieces
                const rows = position.split('/');
                squareIndex = 0;

                for (let rank = 0; rank < 8; rank++) {
                    let fileIndex = 0;
                    for (let char of rows[rank]) {
                        if (isNaN(char)) {
                            // It's a piece
                            const square = squares[squareIndex + fileIndex];
                            if (square) {
                                square.innerHTML = `<span class="chess-piece">${pieces[char] || ''}</span>`;
                            }
                            fileIndex++;
                        } else {
                            // It's a number (empty squares)
                            fileIndex += parseInt(char);
                        }
                    }
                    squareIndex += 8;
                }
            }

            updateButtons() {
                this.prevBtn.disabled = this.currentPosition === 0;
                this.nextBtn.disabled = this.currentPosition === this.positions.length - 1;
            }

            updateMoveDisplay() {
                if (this.currentPosition === 0) {
                    this.moveDisplay.textContent = 'Starting Position';
                } else {
                    this.moveDisplay.textContent = this.moves[this.currentPosition - 1];
                }
            }

            updateExplanation() {
                if (this.explanations[this.currentPosition]) {
                    this.explanationElement.innerHTML = this.explanations[this.currentPosition];
                }
            }

            previousMove() {
                if (this.currentPosition > 0) {
                    this.currentPosition--;
                    this.updateDisplay();
                }
            }

            nextMove() {
                if (this.currentPosition < this.positions.length - 1) {
                    this.currentPosition++;
                    this.updateDisplay();
                }
            }
        }

        // Initialize chess boards when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Ruy Lopez main sequence
            const ruyLopezBoard = new ChessBoard('ruy-lopez-board', 'ruy-prev', 'ruy-next', 'ruy-move-display', 'ruy-move-explanation');
            
            const ruyLopezPositions = [
                'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1',
                'rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2',
                'rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2',
                'r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3',
                'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3'
            ];
            
            const ruyLopezMoves = [
                '1. e4',
                '1...e5', 
                '2. Nf3',
                '2...Nc6',
                '3. Bb5'
            ];
            
            const ruyLopezExplanations = [
                '<p><strong>Starting Position</strong><br>White is about to begin with the King\'s pawn.</p>',
                '<p><strong>1. e4</strong><br><em>Note:</em> White\'s King pawn advances two squares, immediately staking a claim in the center. This move also opens lines for White\'s Queen and King\'s Bishop, preparing for rapid development and potential attacks.</p>',
                '<p><strong>1...e5</strong><br><em>Note:</em> Black mirrors White\'s pawn move, also taking central space and opening lines for their Queen and King\'s Bishop. This creates a symmetrical and balanced starting position.</p>',
                '<p><strong>2. Nf3</strong><br><em>Note:</em> White develops the King\'s Knight to a natural square (f3). From here, it attacks Black\'s e5 pawn and controls key central squares like d4 and e5. This move also prepares for kingside castling.</p>',
                '<p><strong>2...Nc6</strong><br><em>Note:</em> Black develops the Queen\'s Knight to c6. This defends the e5 pawn, which is under attack by White\'s knight on f3, and also controls the d4 square.</p>',
                '<p><strong>3. Bb5 - THIS IS THE RUY LOPEZ!</strong><br><em>Note:</em> White\'s King\'s Bishop moves to b5. This move creates a "pin" on Black\'s c6 Knight (meaning if the knight moves, the King\'s pawn on e5 would be undefended). It also puts indirect pressure on the center and prepares for White\'s kingside castling.</p>'
            ];
            
            ruyLopezBoard.setMoveSequence(ruyLopezPositions, ruyLopezMoves, ruyLopezExplanations);

            // Scandinavian Defense
            const scandinavianBoard = new ChessBoard('scandinavian-board', 'scandinavian-prev', 'scandinavian-next', 'scandinavian-move-display', 'scandinavian-move-explanation');
            
            const scandinavianPositions = [
                'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1',
                'rnbqkbnr/ppp1pppp/8/3p4/4P3/8/PPPP1PPP/RNBQKBNR w KQkq d6 0 2',
                'rnbqkbnr/ppp1pppp/8/3P4/8/8/PPPP1PPP/RNBQKBNR b KQkq - 0 2',
                'rnb1kbnr/ppp1pppp/8/3q4/8/8/PPPP1PPP/RNBQKBNR w KQkq - 0 3'
            ];
            
            const scandinavianMoves = [
                '1. e4',
                '1...d5',
                '2. exd5',
                '2...Qxd5'
            ];
            
            const scandinavianExplanations = [
                '<p><strong>Starting Position</strong></p>',
                '<p><strong>1. e4</strong><br>White opens with the King\'s pawn.</p>',
                '<p><strong>1...d5 - The Scandinavian Defense</strong><br><em>Note:</em> Black immediately challenges White\'s e4 pawn in the center. This opens lines for Black\'s Queen and Bishop very early.</p>',
                '<p><strong>2. exd5</strong><br><em>Note:</em> White captures Black\'s pawn, opening the center. This move often gains a "tempo" (a free move) because Black\'s Queen will likely recapture, and White can then develop a knight to attack it.</p>',
                '<p><strong>2...Qxd5</strong><br><em>Note:</em> Black recaptures with the Queen. White will typically play 3. Nc3, developing a knight and attacking Black\'s exposed Queen, forcing it to move again.</p>'
            ];
            
            scandinavianBoard.setMoveSequence(scandinavianPositions, scandinavianMoves, scandinavianExplanations);

            // French Defense
            const frenchBoard = new ChessBoard('french-board', 'french-prev', 'french-next', 'french-move-display', 'french-move-explanation');
            
            const frenchPositions = [
                'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1',
                'rnbqkbnr/pppp1ppp/4p3/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2',
                'rnbqkbnr/pppp1ppp/4p3/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq d3 0 2',
                'rnbqkbnr/ppp2ppp/4p3/3p4/3PP3/8/PPP2PPP/RNBQKBNR w KQkq d6 0 3'
            ];
            
            const frenchMoves = [
                '1. e4',
                '1...e6',
                '2. d4',
                '2...d5'
            ];
            
            const frenchExplanations = [
                '<p><strong>Starting Position</strong></p>',
                '<p><strong>1. e4</strong><br>White opens with the King\'s pawn.</p>',
                '<p><strong>1...e6 - The French Defense</strong><br><em>Note:</em> Black prepares to push the d-pawn to d5, creating a solid pawn chain (e6-d5). This move, however, temporarily blocks Black\'s light-squared bishop on f8.</p>',
                '<p><strong>2. d4</strong><br><em>Note:</em> White establishes a strong central pawn duo (pawns on e4 and d4), controlling a large portion of the board.</p>',
                '<p><strong>2...d5</strong><br><em>Note:</em> Black challenges White\'s strong center. This often leads to a "closed" game with locked pawn chains, where strategic maneuvering and pawn breaks are key.</p>'
            ];
            
            frenchBoard.setMoveSequence(frenchPositions, frenchMoves, frenchExplanations);

            // Caro-Kann Defense
            const caroKannBoard = new ChessBoard('caro-kann-board', 'caro-kann-prev', 'caro-kann-next', 'caro-kann-move-display', 'caro-kann-move-explanation');
            
            const caroKannPositions = [
                'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1',
                'rnbqkbnr/pp1ppppp/2p5/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2',
                'rnbqkbnr/pp1ppppp/2p5/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq d3 0 2',
                'rnbqkbnr/pp2pppp/2p5/3p4/3PP3/8/PPP2PPP/RNBQKBNR w KQkq d6 0 3'
            ];
            
            const caroKannMoves = [
                '1. e4',
                '1...c6',
                '2. d4',
                '2...d5'
            ];
            
            const caroKannExplanations = [
                '<p><strong>Starting Position</strong></p>',
                '<p><strong>1. e4</strong><br>White opens with the King\'s pawn.</p>',
                '<p><strong>1...c6 - The Caro-Kann Defense</strong><br><em>Note:</em> Black prepares to push the d-pawn to d5, similar to the French Defense, but with the key difference that the light-squared bishop (on c8) is not blocked by the e-pawn.</p>',
                '<p><strong>2. d4</strong><br><em>Note:</em> White once again establishes a strong central pawn presence with pawns on e4 and d4.</p>',
                '<p><strong>2...d5</strong><br><em>Note:</em> Black challenges White\'s center. The Caro-Kann often leads to solid and flexible positions for Black, with less cramped piece play than the French Defense.</p>'
            ];
            
            caroKannBoard.setMoveSequence(caroKannPositions, caroKannMoves, caroKannExplanations);

            // Sicilian Defense
            const sicilianBoard = new ChessBoard('sicilian-board', 'sicilian-prev', 'sicilian-next', 'sicilian-move-display', 'sicilian-move-explanation');
            
            const sicilianPositions = [
                'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1',
                'rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2',
                'rnbqkbnr/pp1ppppp/8/2p5/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2',
                'r1bqkbnr/pp1ppppp/2n5/2p5/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3'
            ];
            
            const sicilianMoves = [
                '1. e4',
                '1...c5',
                '2. Nf3',
                '2...Nc6'
            ];
            
            const sicilianExplanations = [
                '<p><strong>Starting Position</strong></p>',
                '<p><strong>1. e4</strong><br>White opens with the King\'s pawn.</p>',
                '<p><strong>1...c5 - The Sicilian Defense</strong><br><em>Note:</em> Black plays the c-pawn to c5, creating an immediate asymmetrical pawn structure. This is an aggressive move, directly challenging White\'s d4 square.</p>',
                '<p><strong>2. Nf3</strong><br><em>Note:</em> White develops a knight, prepares to castle, and controls the d4 square, often aiming for a later d4 pawn push to open the center.</p>',
                '<p><strong>2...Nc6</strong><br><em>Note:</em> Black develops a knight, protecting the d4 square and preparing for further development. The Sicilian Defense is known for leading to very sharp, tactical, and open games with active piece play.</p>'
            ];
            
            sicilianBoard.setMoveSequence(sicilianPositions, sicilianMoves, sicilianExplanations);

            // Philidor Defense
            const philidorBoard = new ChessBoard('philidor-board', 'philidor-prev', 'philidor-next', 'philidor-move-display', 'philidor-move-explanation');
            
            const philidorPositions = [
                'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1',
                'rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2',
                'rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2',
                'rnbqkbnr/ppp2ppp/3p4/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 0 3',
                'rnbqkbnr/ppp2ppp/3p4/4p3/3PP3/5N2/PPP2PPP/RNBQKB1R b KQkq d3 0 3'
            ];
            
            const philidorMoves = [
                '1. e4',
                '1...e5',
                '2. Nf3',
                '2...d6',
                '3. d4'
            ];
            
            const philidorExplanations = [
                '<p><strong>Starting Position</strong></p>',
                '<p><strong>1. e4</strong><br>White opens with the King\'s pawn.</p>',
                '<p><strong>1...e5</strong><br>Black mirrors with the King\'s pawn.</p>',
                '<p><strong>2. Nf3</strong><br>White develops the knight, attacking e5.</p>',
                '<p><strong>2...d6 - The Philidor Defense</strong><br><em>Note:</em> Black defends the e5 pawn with another pawn (d6). While solid, this move blocks Black\'s own f8-bishop, often leading to a more passive and cramped position for Black.</p>',
                '<p><strong>3. d4</strong><br><em>Note:</em> White builds a strong central pawn duo (e4 and d4), aiming to exploit Black\'s passive setup by gaining more space and opening lines for White\'s pieces.</p>'
            ];
            
            philidorBoard.setMoveSequence(philidorPositions, philidorMoves, philidorExplanations);

            // Petrov Defense
            const petrovBoard = new ChessBoard('petrov-board', 'petrov-prev', 'petrov-next', 'petrov-move-display', 'petrov-move-explanation');
            
            const petrovPositions = [
                'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',
                'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1',
                'rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2',
                'rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2',
                'rnbqkb1r/pppp1ppp/5n2/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3',
                'rnbqkb1r/pppp1ppp/5n2/4N3/8/8/PPPP1PPP/RNBQKB1R b KQkq - 0 3'
            ];
            
            const petrovMoves = [
                '1. e4',
                '1...e5',
                '2. Nf3',
                '2...Nf6',
                '3. Nxe5'
            ];
            
            const petrovExplanations = [
                '<p><strong>Starting Position</strong></p>',
                '<p><strong>1. e4</strong><br>White opens with the King\'s pawn.</p>',
                '<p><strong>1...e5</strong><br>Black mirrors with the King\'s pawn.</p>',
                '<p><strong>2. Nf3</strong><br>White develops the knight, attacking e5.</p>',
                '<p><strong>2...Nf6 - The Petrov Defense</strong><br><em>Note:</em> Black immediately counter-attacks White\'s e4 pawn with their knight. This often leads to symmetrical positions.</p>',
                '<p><strong>3. Nxe5</strong><br><em>Note:</em> White captures Black\'s e5 pawn. Black will almost always recapture on e4, leading to a pawn exchange and often a more simplified game. The Petrov is known for its solidity and tendency to lead to early draws at higher levels.</p>'
            ];
            
            petrovBoard.setMoveSequence(petrovPositions, petrovMoves, petrovExplanations);

            // Morphy Defense
            const morphyBoard = new ChessBoard('morphy-board', 'morphy-prev', 'morphy-next', 'morphy-move-display', 'morphy-move-explanation');
            
            const morphyPositions = [
                'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3',
                'r1bqkbnr/1ppp1ppp/p1n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 4',
                'r1bqkbnr/1ppp1ppp/p1n5/4p3/1B2P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 1 4',
                'r1bqkb1r/1ppp1ppp/p1n2n2/4p3/1B2P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 2 5',
                'r1bqkb1r/1ppp1ppp/p1n2n2/4p3/1B2P3/5N2/PPPP1PPP/RNBQ1RK1 b kq - 3 5',
                'r1bqk2r/1ppp1ppp/p1n2n2/2b1p3/1B2P3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 4 6'
            ];
            
            const morphyMoves = [
                '3...a6',
                '4. Ba4',
                '4...Nf6',
                '5. O-O',
                '5...Be7'
            ];
            
            const morphyExplanations = [
                '<p><strong>After 3. Bb5 - The Ruy Lopez position</strong></p>',
                '<p><strong>3...a6 - The Morphy Defense</strong><br><em>Note:</em> Black immediately attacks White\'s bishop on b5 with the \'a\' pawn, asking it to make a decision. This is the most common and classical response, leading to the "Closed Ruy Lopez."</p>',
                '<p><strong>4. Ba4</strong><br><em>Note:</em> White retreats the bishop to a4, maintaining the pressure on Black\'s c6 knight and the long diagonal.</p>',
                '<p><strong>4...Nf6</strong><br><em>Note:</em> Black develops the King\'s Knight, attacking White\'s e4 pawn and preparing to castle.</p>',
                '<p><strong>5. O-O</strong><br><em>Note:</em> White castles kingside, getting the King to safety and preparing to activate the Rook on e1.</p>',
                '<p><strong>5...Be7</strong><br><em>Note:</em> Black develops the King\'s Bishop, preparing to castle. This leads to a complex, strategic game where both sides maneuver for central control and positional advantages. White often aims for a c3-d4 pawn break, while Black seeks counterplay on the queenside or through central pawn pushes.</p>'
            ];
            
            morphyBoard.setMoveSequence(morphyPositions, morphyMoves, morphyExplanations);

            // Berlin Defense
            const berlinBoard = new ChessBoard('berlin-board', 'berlin-prev', 'berlin-next', 'berlin-move-display', 'berlin-move-explanation');
            
            const berlinPositions = [
                'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3',
                'r1bqkb1r/pppp1ppp/2n2n2/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4',
                'r1bqkb1r/pppp1ppp/2n2n2/1B2p3/4P3/5N2/PPPP1PPP/RNBQ1RK1 b kq - 5 4',
                'r1bqkb1r/pppp1ppp/2n5/1B2p3/4n3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 0 5'
            ];
            
            const berlinMoves = [
                '3...Nf6',
                '4. O-O',
                '4...Nxe4'
            ];
            
            const berlinExplanations = [
                '<p><strong>After 3. Bb5 - The Ruy Lopez position</strong></p>',
                '<p><strong>3...Nf6 - The Berlin Defense</strong><br><em>Note:</em> Black develops the King\'s Knight and immediately attacks White\'s e4 pawn, instead of addressing the bishop on b5 first.</p>',
                '<p><strong>4. O-O</strong><br><em>Note:</em> White castles kingside, often allowing Black to capture the e4 pawn, as White has compensation in development and central influence.</p>',
                '<p><strong>4...Nxe4</strong><br><em>Note:</em> Black captures White\'s e4 pawn. This often leads to early Queen exchanges and simplified positions, giving the Berlin its reputation as the "Berlin Wall" -- a solid, drawish defense at the highest levels. White aims to exploit Black\'s slightly compromised pawn structure.</p>'
            ];
            
            berlinBoard.setMoveSequence(berlinPositions, berlinMoves, berlinExplanations);

            // Exchange Variation
            const exchangeBoard = new ChessBoard('exchange-board', 'exchange-prev', 'exchange-next', 'exchange-move-display', 'exchange-move-explanation');
            
            const exchangePositions = [
                'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3',
                'r1bqkbnr/1ppp1ppp/p1n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 4',
                'r1bqkbnr/1ppp1ppp/p7/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 0 4',
                'r1bqkbnr/1pp2ppp/p7/1B1pp3/4P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 5'
            ];
            
            const exchangeMoves = [
                '3...a6',
                '4. Bxc6',
                '4...dxc6'
            ];
            
            const exchangeExplanations = [
                '<p><strong>After 3. Bb5 - The Ruy Lopez position</strong></p>',
                '<p><strong>3...a6</strong><br>Black attacks the bishop.</p>',
                '<p><strong>4. Bxc6 - The Exchange Variation</strong><br><em>Note:</em> White captures Black\'s knight on c6, immediately doubling Black\'s pawns on the c-file. White gives up the "bishop pair" (having both bishops) but gains a long-term pawn structure advantage.</p>',
                '<p><strong>4...dxc6</strong><br><em>Note:</em> Black recaptures with the d-pawn, resulting in two pawns on the c-file (c7 and c6 pawns on the same file). White\'s main plan is to trade pieces and aim for an endgame where their kingside pawn majority can create a passed pawn, while Black relies on the activity of their bishop pair in the middlegame.</p>'
            ];
            
            exchangeBoard.setMoveSequence(exchangePositions, exchangeMoves, exchangeExplanations);

            // Marshall Attack
            const marshallBoard = new ChessBoard('marshall-board', 'marshall-prev', 'marshall-next', 'marshall-move-display', 'marshall-move-explanation');
            
            const marshallPositions = [
                'r1bqk2r/1ppp1ppp/p1n2n2/2b1p3/1B2P3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 4 6',
                'r1bqk2r/1ppp1ppp/p1n2n2/2b1p3/1B2P3/5N2/PPPP1PPP/RNBQR1K1 b kq - 5 6',
                'r1bq1rk1/1ppp1ppp/p1n2n2/1bb1p3/1B2P3/5N2/PPPP1PPP/RNBQR1K1 w - - 6 7',
                'r1bq1rk1/1ppp1ppp/p1n2n2/1bb1p3/4P3/1B3N2/PPPP1PPP/RNBQR1K1 b - - 7 7',
                'r1bq1rk1/2pp1ppp/p1n2n2/1bbBp3/4P3/5N2/PPPP1PPP/RNBQR1K1 w - - 8 8',
                'r1bq1rk1/2pp1ppp/p1n2n2/1bbBp3/4P3/2P2N2/PP1P1PPP/RNBQR1K1 b - - 0 8',
                'r1bq1rk1/2p2ppp/p1n2n2/1bbpp3/4P3/2P2N2/PP1P1PPP/RNBQR1K1 w - d6 0 9'
            ];
            
            const marshallMoves = [
                '6. Re1',
                '6...b5',
                '7. Bb3',
                '7...O-O',
                '8. c3',
                '8...d5'
            ];
            
            const marshallExplanations = [
                '<p><strong>Morphy Defense setup</strong><br>After 1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7</p>',
                '<p><strong>6. Re1</strong><br>White develops the rook.</p>',
                '<p><strong>6...b5</strong><br>Black attacks the bishop.</p>',
                '<p><strong>7. Bb3</strong><br>White retreats the bishop.</p>',
                '<p><strong>7...O-O</strong><br>Black castles.</p>',
                '<p><strong>8. c3</strong><br>White prepares d4.</p>',
                '<p><strong>8...d5 - The Marshall Attack!</strong><br><em>Note:</em> Black sacrifices a pawn on d5 to immediately open lines for their pieces and launch a fierce kingside attack. This is a highly aggressive and complex line. White must be prepared to defend precisely or find counter-attacking opportunities.</p>'
            ];
            
            marshallBoard.setMoveSequence(marshallPositions, marshallMoves, marshallExplanations);

            // Open Ruy Lopez
            const openBoard = new ChessBoard('open-board', 'open-prev', 'open-next', 'open-move-display', 'open-move-explanation');
            
            const openPositions = [
                'r1bqkb1r/1ppp1ppp/p1n2n2/4p3/1B2P3/5N2/PPPP1PPP/RNBQ1RK1 b kq - 3 5',
                'r1bqkb1r/1ppp1ppp/p1n5/4p3/1B2n3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 0 6',
                'r1bqkb1r/1ppp1ppp/p1n5/4p3/1B2P3/5N2/PPP2PPP/RNBQ1RK1 b kq d3 0 6'
            ];
            
            const openMoves = [
                '5...Nxe4',
                '6. d4'
            ];
            
            const openExplanations = [
                '<p><strong>After 5. O-O in the Morphy Defense</strong></p>',
                '<p><strong>5...Nxe4 - The Open Ruy Lopez</strong><br><em>Note:</em> Black captures White\'s e4 pawn. While Black is temporarily up a pawn, White gains a lead in development and opens the center.</p>',
                '<p><strong>6. d4</strong><br><em>Note:</em> White immediately challenges Black\'s central presence and opens lines for their rooks and bishops. This leads to dynamic and tactical positions where White aims to regain the pawn with interest.</p>'
            ];
            
            openBoard.setMoveSequence(openPositions, openMoves, openExplanations);

            // Steinitz Defense
            const steinitzBoard = new ChessBoard('steinitz-board', 'steinitz-prev', 'steinitz-next', 'steinitz-move-display', 'steinitz-move-explanation');
            
            const steinitzPositions = [
                'r1bqkbnr/1ppp1ppp/p1n5/4p3/1B2P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 1 4',
                'r1bqkbnr/1pp2ppp/p1np4/4p3/1B2P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 5'
            ];
            
            const steinitzMoves = [
                '4...d6'
            ];
            
            const steinitzExplanations = [
                '<p><strong>After 3...a6 4. Ba4</strong></p>',
                '<p><strong>4...d6 - The Steinitz Defense</strong><br><em>Note:</em> Black pushes the d-pawn, creating a solid, defensive pawn structure (e5 and d6). However, this move can block Black\'s light-squared bishop on f8, often leading to a more passive position. White typically enjoys a space advantage and aims to slowly build pressure.</p>'
            ];
            
            steinitzBoard.setMoveSequence(steinitzPositions, steinitzMoves, steinitzExplanations);

            // Classical Variation
            const classicalBoard = new ChessBoard('classical-board', 'classical-prev', 'classical-next', 'classical-move-display', 'classical-move-explanation');
            
            const classicalPositions = [
                'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3',
                'r1bqk1nr/pppp1ppp/2n5/1Bb1p3/4P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4',
                'r1bqk1nr/pppp1ppp/2n5/1Bb1p3/4P3/2P2N2/PP1P1PPP/RNBQK2R b KQkq - 0 4'
            ];
            
            const classicalMoves = [
                '3...Bc5',
                '4. c3'
            ];
            
            const classicalExplanations = [
                '<p><strong>After 3. Bb5 - The Ruy Lopez position</strong></p>',
                '<p><strong>3...Bc5 - The Classical Variation</strong><br><em>Note:</em> Black develops the dark-squared bishop to c5 very actively, putting immediate pressure on White\'s f2 square and aiming for a quick kingside attack.</p>',
                '<p><strong>4. c3</strong><br><em>Note:</em> White prepares d4 to challenge Black\'s center and bishop. White aims to maintain central control and develop, while being wary of Black\'s active bishop.</p>'
            ];
            
            classicalBoard.setMoveSequence(classicalPositions, classicalMoves, classicalExplanations);

            // Schliemann Defense
            const schliemannBoard = new ChessBoard('schliemann-board', 'schliemann-prev', 'schliemann-next', 'schliemann-move-display', 'schliemann-move-explanation');
            
            const schliemannPositions = [
                'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3',
                'r1bqkbnr/pppp2pp/2n5/1B2pp2/4P3/5N2/PPPP1PPP/RNBQK2R w KQkq f6 0 4'
            ];
            
            const schliemannMoves = [
                '3...f5'
            ];
            
            const schliemannExplanations = [
                '<p><strong>After 3. Bb5 - The Ruy Lopez position</strong></p>',
                '<p><strong>3...f5 - The Schliemann Defense</strong><br><em>Note:</em> Black immediately pushes the f-pawn, creating a very aggressive and sharp gambit. Black sacrifices a pawn for rapid development and an open f-file, aiming for a kingside attack. This leads to wild, tactical positions where White must be precise in their defense and counter-attack.</p>'
            ];
            
            schliemannBoard.setMoveSequence(schliemannPositions, schliemannMoves, schliemannExplanations);

            // Cozio Defense
            const cozioBoard = new ChessBoard('cozio-board', 'cozio-prev', 'cozio-next', 'cozio-move-display', 'cozio-move-explanation');
            
            const cozioPositions = [
                'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3',
                'r1bqkb1r/pppp1ppp/2n1n3/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4'
            ];
            
            const cozioMoves = [
                '3...Nge7'
            ];
            
            const cozioExplanations = [
                '<p><strong>After 3. Bb5 - The Ruy Lopez position</strong></p>',
                '<p><strong>3...Nge7 - The Cozio Defense</strong><br><em>Note:</em> Black develops the knight to e7, an unusual square. This move keeps the f-pawn unblocked (allowing for a later ...f5 or ...f6) and provides flexibility for the knight to reroute to g6 or f5. It\'s a quieter, more flexible approach for Black, often leading to slower, more maneuvering games.</p>'
            ];
            
            cozioBoard.setMoveSequence(cozioPositions, cozioMoves, cozioExplanations);

            // Arkhangelsk Defense
            const arkhangelskBoard = new ChessBoard('arkhangelsk-board', 'arkhangelsk-prev', 'arkhangelsk-next', 'arkhangelsk-move-display', 'arkhangelsk-move-explanation');
            
            const arkhangelskPositions = [
                'r1bqkb1r/1ppp1ppp/p1n2n2/4p3/1B2P3/5N2/PPPP1PPP/RNBQ1RK1 b kq - 3 5',
                'r1bqk2r/1ppp1ppp/p1n2n2/2b1p3/1B2P3/5N2/PPPP1PPP/RNBQ1RK1 w kq - 4 6'
            ];
            
            const arkhangelskMoves = [
                '5...Bc5'
            ];
            
            const arkhangelskExplanations = [
                '<p><strong>After 5. O-O in the Morphy Defense</strong><br>Following 1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O</p>',
                '<p><strong>5...Bc5 - The Arkhangelsk Defense</strong><br><em>Note:</em> Black develops the dark-squared bishop to c5 very actively, similar to the Classical Variation, but often after a6 and Nf6. This aims for dynamic piece play and puts pressure on White\'s d4 square. This variation leads to sharp and tactical middlegames, as Black seeks to gain initiative with active pieces.</p>'
            ];
            
            arkhangelskBoard.setMoveSequence(arkhangelskPositions, arkhangelskMoves, arkhangelskExplanations);

            // Section toggle functionality
            document.querySelectorAll('.section-toggle').forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const content = document.getElementById(targetId);
                    
                    if (content.classList.contains('active')) {
                        content.classList.remove('active');
                        this.textContent = 'Show Details';
                    } else {
                        content.classList.add('active');
                        this.textContent = 'Hide Details';
                    }
                });
            });

            // Smooth scrolling for navigation links
            document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>